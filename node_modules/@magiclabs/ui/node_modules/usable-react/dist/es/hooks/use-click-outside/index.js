import { CAN_USE_DOM } from '../../utils/can-use-dom.js';
import { isElement, isRefObject } from '../../utils/instance-of.js';
import { useDomEvent } from '../use-dom-event/index.js';
import { useEffectTrigger } from '../use-effect-trigger/index.js';

function useClickOutside(elements, effect, deps) {
    if (deps === void 0) { deps = []; }
    var elList = Array.isArray(elements) ? elements : [elements];
    var triggerClickOutside = useEffectTrigger(effect, deps);
    var addWindowListener = useDomEvent(CAN_USE_DOM ? window : null);
    addWindowListener('click', function (e) {
        var shouldTriggerEffect = elList.every(function (el) {
            if (isElement(el)) {
                return !!el && !el.contains(e.target);
            }
            if (isRefObject(el)) {
                return !!el.current && !el.current.contains(e.target);
            }
            return false;
        });
        if (shouldTriggerEffect) {
            triggerClickOutside();
        }
    });
}

export { useClickOutside };
//# sourceMappingURL=index.js.map
