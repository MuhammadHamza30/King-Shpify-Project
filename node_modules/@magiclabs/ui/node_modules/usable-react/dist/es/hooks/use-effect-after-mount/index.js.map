{"version":3,"file":"index.js","sources":["../../../../src/hooks/use-effect-after-mount/index.ts"],"sourcesContent":["import { DependencyList, EffectCallback, useEffect, useRef } from 'react';\nimport { useInitialRender } from '../use-initial-render';\n\n/**\n * Exactly like `useEffect`, except that the effect only executes on subsequent\n * updates after a component mounts.\n */\nexport function useEffectAfterMount(effect: EffectCallback, deps?: DependencyList) {\n  const isInitialRender = useInitialRender();\n  const savedCallback = useRef(effect);\n\n  useEffect(() => {\n    savedCallback.current = effect;\n  }, [effect]);\n\n  useEffect(() => {\n    if (!isInitialRender) {\n      return savedCallback.current();\n    }\n\n    return undefined;\n  }, deps);\n}\n"],"names":[],"mappings":";;;AAGA;;;;SAIgB,mBAAmB,CAAC,MAAsB,EAAE,IAAqB;IAC/E,IAAM,eAAe,GAAG,gBAAgB,EAAE,CAAC;IAC3C,IAAM,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;IAErC,SAAS,CAAC;QACR,aAAa,CAAC,OAAO,GAAG,MAAM,CAAC;KAChC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,SAAS,CAAC;QACR,IAAI,CAAC,eAAe,EAAE;YACpB,OAAO,aAAa,CAAC,OAAO,EAAE,CAAC;SAChC;QAED,OAAO,SAAS,CAAC;KAClB,EAAE,IAAI,CAAC,CAAC;AACX;;;;"}