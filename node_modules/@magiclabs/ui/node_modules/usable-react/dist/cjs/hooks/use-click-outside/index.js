'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var canUseDom = require('../../utils/can-use-dom.js');
var instanceOf = require('../../utils/instance-of.js');
var index$1 = require('../use-dom-event/index.js');
var index = require('../use-effect-trigger/index.js');

function useClickOutside(elements, effect, deps) {
    if (deps === void 0) { deps = []; }
    var elList = Array.isArray(elements) ? elements : [elements];
    var triggerClickOutside = index.useEffectTrigger(effect, deps);
    var addWindowListener = index$1.useDomEvent(canUseDom.CAN_USE_DOM ? window : null);
    addWindowListener('click', function (e) {
        var shouldTriggerEffect = elList.every(function (el) {
            if (instanceOf.isElement(el)) {
                return !!el && !el.contains(e.target);
            }
            if (instanceOf.isRefObject(el)) {
                return !!el.current && !el.current.contains(e.target);
            }
            return false;
        });
        if (shouldTriggerEffect) {
            triggerClickOutside();
        }
    });
}

exports.useClickOutside = useClickOutside;
//# sourceMappingURL=index.js.map
