{"version":3,"file":"index.js","sources":["../../../../src/hooks/use-click-outside/index.ts"],"sourcesContent":["import { EffectCallback, DependencyList, MutableRefObject, RefObject } from 'react';\nimport { CAN_USE_DOM } from '../../utils/can-use-dom';\nimport { isElement, isRefObject } from '../../utils/instance-of';\nimport { useDomEvent } from '../use-dom-event';\nimport { useEffectTrigger } from '../use-effect-trigger';\n\ntype ElementOrRef = Node | MutableRefObject<Node> | RefObject<Node> | null;\n\nexport function useClickOutside(element: ElementOrRef, effect: EffectCallback, deps?: DependencyList): void;\nexport function useClickOutside(elements: ElementOrRef[], effect: EffectCallback, deps?: DependencyList): void;\nexport function useClickOutside(\n  elements: ElementOrRef | ElementOrRef[],\n  effect: EffectCallback,\n  deps: DependencyList = [],\n): void {\n  const elList = Array.isArray(elements) ? elements : [elements];\n  const triggerClickOutside = useEffectTrigger(effect, deps);\n  const addWindowListener = useDomEvent(CAN_USE_DOM ? window : null);\n\n  addWindowListener('click', (e) => {\n    const shouldTriggerEffect = elList.every((el) => {\n      if (isElement(el)) {\n        return !!el && !el.contains(e.target as any);\n      }\n\n      if (isRefObject<Node>(el)) {\n        return !!el.current && !el.current.contains(e.target as any);\n      }\n\n      return false;\n    });\n\n    if (shouldTriggerEffect) {\n      triggerClickOutside();\n    }\n  });\n}\n"],"names":["useEffectTrigger","useDomEvent","CAN_USE_DOM","isElement","isRefObject"],"mappings":";;;;;;;;;SAUgB,eAAe,CAC7B,QAAuC,EACvC,MAAsB,EACtB,IAAyB;IAAzB,qBAAA,EAAA,SAAyB;IAEzB,IAAM,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,QAAQ,GAAG,CAAC,QAAQ,CAAC,CAAC;IAC/D,IAAM,mBAAmB,GAAGA,sBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IAC3D,IAAM,iBAAiB,GAAGC,mBAAW,CAACC,qBAAW,GAAG,MAAM,GAAG,IAAI,CAAC,CAAC;IAEnE,iBAAiB,CAAC,OAAO,EAAE,UAAC,CAAC;QAC3B,IAAM,mBAAmB,GAAG,MAAM,CAAC,KAAK,CAAC,UAAC,EAAE;YAC1C,IAAIC,oBAAS,CAAC,EAAE,CAAC,EAAE;gBACjB,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAa,CAAC,CAAC;aAC9C;YAED,IAAIC,sBAAW,CAAO,EAAE,CAAC,EAAE;gBACzB,OAAO,CAAC,CAAC,EAAE,CAAC,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAa,CAAC,CAAC;aAC9D;YAED,OAAO,KAAK,CAAC;SACd,CAAC,CAAC;QAEH,IAAI,mBAAmB,EAAE;YACvB,mBAAmB,EAAE,CAAC;SACvB;KACF,CAAC,CAAC;AACL;;;;"}