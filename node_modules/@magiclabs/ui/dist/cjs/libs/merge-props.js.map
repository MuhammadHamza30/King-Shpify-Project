{"version":3,"file":"merge-props.js","sources":["../../../src/libs/merge-props.ts"],"sourcesContent":["import { mergeIDs } from '../hooks/use-id';\nimport { clsx } from './clsx';\n\n/**\n * Calls all functions in the order they were chained with the same arguments.\n *\n * Based on `chain` utility from `@react-aria/utils`\n *\n * @see the LICENSE file at the root of this source tree:\n *   https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/utils/src/chain.ts\n *\n * Modifications from original source: none\n */\nfunction chain(...callbacks: any[]): (...args: any[]) => void {\n  return (...args: any[]) => {\n    for (const callback of callbacks) {\n      if (typeof callback === 'function') callback(...args);\n    }\n  };\n}\n\n/**\n * Merges multiple props objects together. Event handlers are chained and\n * class names are combined For all other props, the latest prop object overrides\n * earlier ones.\n *\n * Based on `mergeProps` utility from `@react-aria/utils`\n *\n * @see the LICENSE file at the root of this source tree:\n *   https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/utils/src/mergeProps.ts\n *\n * Modifications from original source:\n *   - Filters `...args` to remove falsey values\n *   - Removes `UNSAFE_className` compatibility\n *   - Adds `style` merging\n */\nexport function mergeProps<T extends (Record<string, any> | undefined | null | boolean)[]>(...args: T) {\n  const argsFiltered = args.filter(Boolean) as Record<string, any>[];\n  const result: Record<string, any> = {};\n\n  for (const props of argsFiltered) {\n    for (const key in result) {\n      if (/^on[A-Z]/.test(key) && typeof result[key] === 'function' && typeof props[key] === 'function') {\n        // Chain event handlers\n        result[key] = chain(result[key], props[key]);\n      } else if (key === 'className') {\n        // Merge class names\n        result[key] = clsx([result.className, props.className]);\n      } else if (key === 'id' && result.id && props.id) {\n        result.id = mergeIDs(result.id, props.id);\n      } else if (key === 'style' && typeof props[key] === 'object') {\n        result[key] = { ...(result[key] ?? {}), ...(props[key] ?? {}) };\n      } else {\n        // Override others\n        result[key] = props[key] !== undefined ? props[key] : result[key];\n      }\n    }\n\n    // Add props from B that are not in A\n    for (const key in props) {\n      if (result[key] === undefined) {\n        result[key] = props[key];\n      }\n    }\n  }\n\n  return result;\n}\n"],"names":["clsx","mergeIDs"],"mappings":";;;;;;;;;;;AAGA;;;;;;;;;AASG;AACH,SAAS,KAAK,CAAC,GAAG,SAAgB,EAAA;AAChC,IAAA,OAAO,CAAC,GAAG,IAAW,KAAI;AACxB,QAAA,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;YAChC,IAAI,OAAO,QAAQ,KAAK,UAAU;AAAE,gBAAA,QAAQ,CAAC,GAAG,IAAI,CAAC,CAAC;AACvD,SAAA;AACH,KAAC,CAAC;AACJ,CAAC;AAED;;;;;;;;;;;;;;AAcG;AACa,SAAA,UAAU,CAAiE,GAAG,IAAO,EAAA;;IACnG,MAAM,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAA0B,CAAC;IACnE,MAAM,MAAM,GAAwB,EAAE,CAAC;AAEvC,IAAA,KAAK,MAAM,KAAK,IAAI,YAAY,EAAE;AAChC,QAAA,KAAK,MAAM,GAAG,IAAI,MAAM,EAAE;YACxB,IAAI,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,OAAO,MAAM,CAAC,GAAG,CAAC,KAAK,UAAU,IAAI,OAAO,KAAK,CAAC,GAAG,CAAC,KAAK,UAAU,EAAE;;AAEjG,gBAAA,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;AAC9C,aAAA;iBAAM,IAAI,GAAG,KAAK,WAAW,EAAE;;AAE9B,gBAAA,MAAM,CAAC,GAAG,CAAC,GAAGA,wBAAI,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;AACzD,aAAA;iBAAM,IAAI,GAAG,KAAK,IAAI,IAAI,MAAM,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,EAAE;AAChD,gBAAA,MAAM,CAAC,EAAE,GAAGC,cAAQ,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC;AAC3C,aAAA;iBAAM,IAAI,GAAG,KAAK,OAAO,IAAI,OAAO,KAAK,CAAC,GAAG,CAAC,KAAK,QAAQ,EAAE;gBAC5D,MAAM,CAAC,GAAG,CAAC,GAAQ,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,GAAC,MAAA,MAAM,CAAC,GAAG,CAAC,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,EAAE,EAAM,GAAC,CAAA,EAAA,GAAA,KAAK,CAAC,GAAG,CAAC,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,EAAE,EAAG,CAAC;AACjE,aAAA;AAAM,iBAAA;;gBAEL,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,KAAK,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;AACnE,aAAA;AACF,SAAA;;AAGD,QAAA,KAAK,MAAM,GAAG,IAAI,KAAK,EAAE;AACvB,YAAA,IAAI,MAAM,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE;gBAC7B,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;AAC1B,aAAA;AACF,SAAA;AACF,KAAA;AAED,IAAA,OAAO,MAAM,CAAC;AAChB;;;;"}