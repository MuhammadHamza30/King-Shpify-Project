{"version":3,"file":"theme-variables.js","sources":["../../../../src/libs/theme/theme-variables.ts"],"sourcesContent":["import { createMedia } from './create-media';\nimport { Theme } from './theme-types';\n\ntype ThemeVariable =\n  | '--mg__primary'\n  | '--mg__primary_lighter'\n  | '--mg__primary_lightest'\n  | '--mg__primary_darker'\n  | '--mg__primary_darkest'\n  | '--mg__v2secondary'\n  | '--mg__v2secondary_lighter'\n  | '--mg__v2secondary_lightest'\n  | '--mg__v2secondary_darker'\n  | '--mg__v2secondary_darkest'\n  | '--mg__v2tertiary'\n  | '--mg__v2tertiary_lighter'\n  | '--mg__v2tertiary_lightest'\n  | '--mg__v2tertiary_darker'\n  | '--mg__v2tertiary_darkest'\n  | '--mg__neutral'\n  | '--mg__neutral_lighter'\n  | '--mg__neutral_lightest'\n  | '--mg__neutral_darker'\n  | '--mg__neutral_darkest'\n  | '--mg__negative'\n  | '--mg__negative_lighter'\n  | '--mg__negative_lightest'\n  | '--mg__negative_darker'\n  | '--mg__negative_darkest'\n  | '--mg__secondary'\n  | '--mg__secondary_lighter'\n  | '--mg__secondary_lightest'\n  | '--mg__secondary_darker'\n  | '--mg__secondary_darkest'\n  | '--mg__tertiary'\n  | '--mg__tertiary_lighter'\n  | '--mg__tertiary_lightest'\n  | '--mg__tertiary_darker'\n  | '--mg__tertiary_darkest'\n  | '--mg__success'\n  | '--mg__success_lighter'\n  | '--mg__success_lightest'\n  | '--mg__success_darker'\n  | '--mg__success_darkest'\n  | '--mg__warning'\n  | '--mg__warning_lighter'\n  | '--mg__warning_lightest'\n  | '--mg__warning_darker'\n  | '--mg__warning_darkest'\n  | '--mg__error'\n  | '--mg__error_lighter'\n  | '--mg__error_lightest'\n  | '--mg__error_darker'\n  | '--mg__error_darkest'\n  | '--mg__light'\n  | '--mg__light_lighter'\n  | '--mg__light_lightest'\n  | '--mg__light_darker'\n  | '--mg__light_darkest'\n  | '--mg__dark'\n  | '--mg__dark_lighter'\n  | '--mg__dark_lightest'\n  | '--mg__dark_darker'\n  | '--mg__dark_darkest'\n  | '--mg__mid'\n  | '--mg__mid_lighter'\n  | '--mg__mid_lightest'\n  | '--mg__mid_darker'\n  | '--mg__mid_darkest'\n  | '--mg__font_sans'\n  | '--mg__font_monospace';\n\nexport function getThemeVariables(theme: Theme) {\n  const createCSSVariableGroup = <T extends keyof (typeof theme)['rgba']>(name: T, rgba: (typeof theme)['rgba'][T]) =>\n    ({\n      [`--mg__${name}`]: rgba.base.array().slice(0, 3).join(', '),\n      [`--mg__${name}_lighter`]: rgba.lighter.array().slice(0, 3).join(', '),\n      [`--mg__${name}_lightest`]: rgba.lightest.array().slice(0, 3).join(', '),\n      [`--mg__${name}_darker`]: rgba.darker.array().slice(0, 3).join(', '),\n      [`--mg__${name}_darkest`]: rgba.darkest.array().slice(0, 3).join(', '),\n    }) as any;\n\n  const variables: Record<ThemeVariable, string> = {\n    ...createCSSVariableGroup('primary', theme.rgba.primary),\n    ...createCSSVariableGroup('v2secondary', theme.rgba.v2secondary),\n    ...createCSSVariableGroup('v2tertiary', theme.rgba.v2tertiary),\n    ...createCSSVariableGroup('neutral', theme.rgba.neutral),\n    ...createCSSVariableGroup('negative', theme.rgba.negative),\n    ...createCSSVariableGroup('secondary', theme.rgba.secondary),\n    ...createCSSVariableGroup('tertiary', theme.rgba.tertiary),\n    ...createCSSVariableGroup('success', theme.rgba.success),\n    ...createCSSVariableGroup('warning', theme.rgba.warning),\n    ...createCSSVariableGroup('error', theme.rgba.error),\n    ...createCSSVariableGroup('light', theme.rgba.light),\n    ...createCSSVariableGroup('dark', theme.rgba.dark),\n    ...createCSSVariableGroup('mid', theme.rgba.mid),\n    '--mg__font_sans': theme.font.sans,\n    '--mg__font_monospace': theme.font.monospace,\n  };\n\n  return {\n    variables,\n\n    toCSS() {\n      /* eslint-disable prettier/prettier */\n\n      // Map theme variables to `:root` CSS block\n      const cssVars = Object.keys(variables)\n        .map((property) => `  ${property}:${variables[property as ThemeVariable]};`)\n        .join('\\n');\n      const cssVarsFormatted = ['/* [@magiclabs/ui] Root CSS Variables */', ':root {', cssVars, '}'].join('\\n');\n\n      // Convert media queries to CSS (via `@artsy/fresnel`)\n      const mediaStyles = createMedia().createMediaStyle();\n      const mediaStylesFormatted = ['/* [@artsy/fresnel] Media Queries */', mediaStyles].join('\\n');\n\n      /* eslint-enable prettier/prettier */\n\n      // Put it all together with nice formatting!\n      return [cssVarsFormatted, mediaStylesFormatted].join('\\n\\n');\n    },\n\n    applyToDocument() {\n      // For each CSS variable, we'll map it to the current `Document`.\n      for (const property of Object.keys(variables)) {\n        document.documentElement.style.setProperty(property, variables[property as ThemeVariable]);\n      }\n\n      // FYI: We don't need to do anything with media queries from `@artsy/fresnel`\n      // here, those are handled client-side by that package internally.\n    },\n  };\n}\n"],"names":["createMedia"],"mappings":"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"}