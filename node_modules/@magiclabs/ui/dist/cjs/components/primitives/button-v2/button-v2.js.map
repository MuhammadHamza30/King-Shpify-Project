{"version":3,"file":"button-v2.js","sources":["../../../../../src/components/primitives/button-v2/button-v2.tsx"],"sourcesContent":["import React, { RefAttributes, useMemo } from 'react';\nimport { PressEvent } from '@react-types/shared';\nimport { useHover, usePress, useFocusRing } from 'react-aria';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { mergeProps } from 'libs/merge-props';\nimport { clsx } from 'libs/clsx';\nimport { Icon, MonochromeIconDefinition, IconColorProvider } from 'components/icons';\nimport { Spacer } from 'components/layout';\nimport { transitions } from 'hooks/transitions';\nimport { InverseThemeSemantics, useTheme } from 'components/theme-provider';\n\nimport { createGenericForwardRefsFactory } from 'libs/generic-forward-refs';\nimport { BaseColorName, ColorTone } from 'libs/theme';\n\nimport styles from './button-v2.less';\n\ninterface ButtonV2Props extends RefAttributes<HTMLAnchorElement | HTMLButtonElement> {\n  disabled?: boolean;\n  validating?: boolean;\n  onPress?: (event: PressEvent) => void;\n  size?: 'sm' | 'md' | 'lg';\n  color?: 'primary' | 'v2secondary' | 'v2tertiary' | 'neutral' | 'negative';\n  leadingIcon?: MonochromeIconDefinition;\n  trailingIcon?: MonochromeIconDefinition;\n  className?: string;\n}\n\n/**\n * Determines a _default_ color for icons nested in a `<ButtonV2>`.\n */\nfunction useIconColor(baseColor?: BaseColorName, inverseSemantics?: boolean, isHovered?: boolean, isPressed?: boolean) {\n  const theme = useTheme({ inverseSemantics });\n\n  return useMemo(() => {\n    let iconBaseColor: BaseColorName | undefined;\n\n    switch (baseColor) {\n      case 'v2secondary':\n      case 'v2tertiary':\n        iconBaseColor = 'primary';\n        break;\n\n      case 'neutral':\n        iconBaseColor = 'dark';\n        break;\n\n      case 'primary':\n      case 'negative':\n        iconBaseColor = 'light';\n        break;\n\n      default:\n        iconBaseColor = undefined;\n    }\n\n    return iconBaseColor ? theme.hex[iconBaseColor].base : undefined;\n  }, [theme.key, baseColor]);\n}\n\nconst createButtonV2Components = /* @__PURE__ */ createGenericForwardRefsFactory(['button', 'a']);\nconst ButtonV2Components = /* @__PURE__ */ createButtonV2Components<ButtonV2Props>(\n  'ButtonV2',\n\n  { color: 'primary', size: 'md' },\n\n  (props, externalRef) => {\n    const {\n      onPress,\n      className,\n      disabled,\n      validating,\n      size,\n      color,\n      leadingIcon,\n      trailingIcon,\n      children,\n      component,\n      ...otherProps\n    } = props;\n\n    const { isFocusVisible, focusProps } = useFocusRing();\n    const { isHovered, hoverProps } = useHover({ isDisabled: disabled });\n    const { isPressed, pressProps } = usePress({ onPress, isDisabled: disabled });\n    const getScaleProps = transitions.useScaleIn();\n\n    const inverseSemantics = false;\n    const iconColor = useIconColor(color, inverseSemantics, isHovered, isPressed);\n\n    const content = (\n      <>\n        <AnimatePresence>\n          {isFocusVisible && <motion.span aria-hidden=\"true\" className={styles.focusRing} {...getScaleProps(1.08)} />}\n        </AnimatePresence>\n\n        {leadingIcon && (\n          <>\n            <Icon size={size === 'sm' ? 16 : 24} type={leadingIcon} />\n            <Spacer size={8} />\n          </>\n        )}\n\n        <span className={styles.buttonLabel}>{children}</span>\n\n        {trailingIcon && (\n          <>\n            <Spacer size={8} />\n            <Icon size={size === 'sm' ? 16 : 24} type={trailingIcon} />\n          </>\n        )}\n      </>\n    );\n\n    return (\n      <IconColorProvider colorA={iconColor}>\n        <InverseThemeSemantics active={inverseSemantics}>\n          {React.createElement(\n            component,\n\n            {\n              className: clsx([\n                className,\n                styles.Button,\n                styles[size!],\n                styles[`size_${size}`],\n                styles[`color_${color}`],\n                disabled && styles.disabled,\n                validating && styles.validating,\n                isPressed && styles.active,\n              ]),\n              disabled,\n              'aria-disabled': disabled,\n              ...mergeProps(pressProps, focusProps, hoverProps, otherProps),\n              ref: externalRef,\n            },\n\n            content,\n          )}\n        </InverseThemeSemantics>\n      </IconColorProvider>\n    );\n  },\n);\n\nexport const ButtonV2 = /* @__PURE__ */ Object.assign(ButtonV2Components.button, ButtonV2Components);\n"],"names":["useTheme","useMemo","createGenericForwardRefsFactory","__rest","useFocusRing","useHover","usePress","transitions","React","AnimatePresence","motion","styles","Icon","Spacer","IconColorProvider","InverseThemeSemantics","clsx","mergeProps"],"mappings":"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"}