{"version":3,"file":"checkbox.js","sources":["../../../../../src/components/primitives/checkbox/checkbox.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\n\nimport React, { useEffect, useRef } from 'react';\nimport { usePress, useHover, useFocusRing } from 'react-aria';\nimport { PressEvent } from '@react-types/shared';\nimport composeRefs from '@seznam/compose-react-refs';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { mergeProps } from '../../../libs/merge-props';\nimport { clsx } from '../../../libs/clsx';\nimport { Flex, Spacer } from '../../layout';\nimport { Icon, MonochromeIconDefinition } from '../../icons';\nimport { transitions } from '../../../hooks/transitions';\nimport { forwardRefWrapper } from '../../../libs/forward-ref-wrapper';\nimport { IntrinsicElementProps } from '../../../types/utility';\n\nimport styles from './checkbox.less';\n\nconst CheckmarkIcon: MonochromeIconDefinition = {\n  SVGContents: ({ fill }) => {\n    return (\n      <path\n        d=\"M12.9374 0.446429L13.2945 0.848214C13.5177 1.02679 13.5177 1.38393 13.2945 1.60714L5.25879 9.59822C5.03558 9.77679 4.67843 9.77679 4.49986 9.59822L0.660575 5.71429C0.43736 5.49107 0.43736 5.17857 0.660575 4.95536L1.01772 4.59821C1.24093 4.375 1.59807 4.375 1.77665 4.59821L4.857 7.67857L12.1784 0.446429C12.357 0.267857 12.7141 0.267857 12.9374 0.446429Z\"\n        {...fill}\n      />\n    );\n  },\n\n  viewbox: [0, 0, 14, 10],\n\n  color: (theme) => theme.hex.secondary.base,\n};\n\ninterface CheckboxProps extends IntrinsicElementProps<'input'> {\n  color?: 'primary' | 'success' | 'warning' | 'error';\n  indeterminate?: boolean;\n  onPress?: (event: PressEvent) => void;\n}\n\nexport const Checkbox = /* @__PURE__ */ forwardRefWrapper<HTMLInputElement, CheckboxProps>(\n  'Checkbox',\n\n  { color: 'primary' },\n\n  (props, externalRef) => {\n    const { onPress, disabled, checked, indeterminate, color, children, ...otherProps } = props;\n\n    const inputRef = useRef<HTMLInputElement | null>(null);\n    const { isFocusVisible, focusProps } = useFocusRing();\n    const { pressProps, isPressed } = usePress({ onPress, isDisabled: disabled });\n    const { isHovered, hoverProps } = useHover({ isDisabled: disabled });\n    const getScaleInProps = transitions.useScaleIn();\n    const getScaleProps = transitions.useScale();\n\n    useEffect(() => {\n      if (inputRef.current) {\n        inputRef.current.indeterminate = !!indeterminate;\n      }\n    }, [indeterminate]);\n\n    return (\n      <label className={styles.Checkbox}>\n        <input\n          type=\"checkbox\"\n          disabled={disabled}\n          aria-disabled={disabled}\n          checked={checked}\n          tabIndex={0}\n          {...mergeProps(pressProps, focusProps, hoverProps, otherProps)}\n          ref={composeRefs(inputRef, externalRef)}\n        />\n\n        <Flex.Row vertical=\"center\">\n          <span\n            className={clsx([\n              styles.checkmark,\n              styles[`color_${color}`],\n              disabled && styles.disabled,\n              checked && styles.checked,\n              isFocusVisible && styles.focusVisible,\n              isPressed && styles.active,\n              isHovered && styles.hover,\n              indeterminate && styles.indeterminate,\n            ])}\n            aria-hidden=\"true\"\n          >\n            <AnimatePresence>\n              {isFocusVisible && (\n                <motion.span aria-hidden=\"true\" className={styles.focusRing} {...getScaleInProps(1.2)} />\n              )}\n            </AnimatePresence>\n\n            <AnimatePresence initial={false}>\n              {checked && !indeterminate && (\n                <motion.span className={styles.checkmarkIcon} {...getScaleProps(0.7)} key={0}>\n                  <Icon size={14} type={CheckmarkIcon} />\n                </motion.span>\n              )}\n\n              {checked && !!indeterminate && (\n                <motion.span className={styles.indeterminancyIcon} {...getScaleProps(0.7)} key={1}>\n                  <span />\n                </motion.span>\n              )}\n            </AnimatePresence>\n          </span>\n\n          {children && (\n            <>\n              <Spacer size={8} inline />\n              {typeof children === 'string' ? <span>{children}</span> : children}\n            </>\n          )}\n        </Flex.Row>\n      </label>\n    );\n  },\n);\n"],"names":["React","forwardRefWrapper","useRef","useFocusRing","usePress","useHover","transitions","useEffect","styles","mergeProps","composeRefs","Flex","clsx","AnimatePresence","motion","Icon","Spacer"],"mappings":"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"}