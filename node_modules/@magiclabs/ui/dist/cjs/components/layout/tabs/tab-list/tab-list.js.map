{"version":3,"file":"tab-list.js","sources":["../../../../../../src/components/layout/tabs/tab-list/tab-list.tsx"],"sourcesContent":["import { AnimatePresence, motion } from 'framer-motion';\nimport React, { Children, PropsWithChildren, useState } from 'react';\nimport { useFocusVisible, useFocusWithin } from 'react-aria';\nimport { transitions } from '../../../../hooks/transitions';\nimport { useStyles } from '../../../../hooks/use-styles';\nimport { clsx } from '../../../../libs/clsx';\nimport { Flex } from '../../flexbox/flexbox';\n\nimport styles from './tab-list.less';\n\ninterface TabListProps extends PropsWithChildren {\n  label: string;\n  orientation: 'horizontal' | 'vertical';\n  indicatorAttributes: { width: number; height: number; offsetLeft: number; offsetTop: number };\n  useAnimation: boolean;\n}\n\nexport const TabList: React.FC<TabListProps> = (props) => {\n  const { label, orientation, indicatorAttributes, useAnimation, children } = props;\n\n  const [isFocused, setFocus] = useState(false);\n  const { focusWithinProps } = useFocusWithin({ onFocusWithinChange: setFocus });\n  const { isFocusVisible } = useFocusVisible();\n  const getFadeProps = transitions.useFade();\n  const getScaleProps = transitions.useScaleIn();\n  const focusRingAnimationProps = orientation === 'vertical' ? getScaleProps(1.1) : getFadeProps();\n\n  const horizontalTabStyle = useStyles({\n    width: `calc(${100 / Children.count(children)}% - 3px)`,\n    left: `${Math.max(indicatorAttributes.offsetLeft, 4)}px`,\n  });\n\n  const verticalTabStyle = useStyles({\n    height: `${indicatorAttributes.height}px`,\n    top: `${indicatorAttributes.offsetTop}px`,\n  });\n\n  const verticalFocusRingStyle = useStyles({\n    height: `calc(${verticalTabStyle.height} + 4px)`,\n    top: `calc(${verticalTabStyle.top} - 4px)`,\n  });\n\n  return (\n    <Flex\n      inline\n      className={clsx([styles.TabList, styles[orientation]])}\n      direction={orientation === 'vertical' ? 'column' : 'row'}\n      alignItems={orientation === 'vertical' ? undefined : 'center'}\n      justifyContent={orientation === 'vertical' ? 'center' : undefined}\n      role=\"tablist\"\n      aria-label={label}\n      {...focusWithinProps}\n    >\n      <AnimatePresence>\n        {isFocused && isFocusVisible && (\n          <motion.span\n            aria-hidden=\"true\"\n            className={styles.focusRing}\n            {...focusRingAnimationProps}\n            transition={{ duration: 0.3 }}\n            style={orientation === 'vertical' ? verticalFocusRingStyle : undefined}\n          />\n        )}\n      </AnimatePresence>\n\n      <div\n        aria-hidden=\"true\"\n        className={clsx([styles.selectedTabIndicator, useAnimation && styles.withAnimation])}\n        style={orientation === 'vertical' ? verticalTabStyle : horizontalTabStyle}\n      />\n      {children}\n    </Flex>\n  );\n};\n"],"names":["useState","useFocusWithin","useFocusVisible","transitions","useStyles","Children","React","Flex","clsx","styles","AnimatePresence","motion"],"mappings":"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"}