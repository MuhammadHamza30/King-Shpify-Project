'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var ssrProvider = require('../components/ssr-provider.js');

const QUERY = '(prefers-reduced-motion: no-preference)';
function useInitialReducedMotionState() {
    const { isServer } = ssrProvider.useSSR();
    return () => (isServer ? true : !window.matchMedia(QUERY).matches);
}
/**
 * Returns `boolean` indicating whether the user has set
 * their browser to prefer reduced motion animations.
 *
 * Based on this lovely tutorial by Josh Comeau:
 * https://www.joshwcomeau.com/react/prefers-reduced-motion/
 */
function useReducedMotion() {
    const [prefersReducedMotion, setPrefersReducedMotion] = React.useState(useInitialReducedMotionState());
    React.useEffect(() => {
        const mediaQueryList = window.matchMedia(QUERY);
        const listener = (event) => {
            setPrefersReducedMotion(!event.matches);
        };
        mediaQueryList.addListener(listener);
        return () => mediaQueryList.removeListener(listener);
    }, []);
    return prefersReducedMotion;
}

exports.useReducedMotion = useReducedMotion;
//# sourceMappingURL=use-reduced-motion.js.map
