{"version":3,"file":"transitions.js","sources":["../../../src/hooks/transitions.ts"],"sourcesContent":["import { useCallback, useMemo } from 'react';\nimport { AnimationProps, TargetAndTransition, MotionAdvancedProps } from 'framer-motion';\nimport { useReducedMotion } from './use-reduced-motion';\n\ntype FramerVariants<Custom = void, VariantKeys extends string = string> = {\n  [P in VariantKeys]: TargetAndTransition | ((custom: Custom) => TargetAndTransition);\n};\n\ntype OptionalFramerVariants<Custom = void, VariantKeys extends string = string> = {\n  [P in VariantKeys]?: TargetAndTransition | ((custom: Custom) => TargetAndTransition);\n};\n\n/**\n * Creates a custom animation hook for `framer-motion`.\n */\nexport function createFramerTransition<TCustom = void>() {\n  const createHook = <VariantKeys extends string = string>(\n    variants: FramerVariants<TCustom, VariantKeys>,\n    reducedMotionVariants?: OptionalFramerVariants<TCustom, VariantKeys>,\n  ) => (targets: {\n    initial?: VariantKeys;\n    animate?: VariantKeys;\n    exit?: VariantKeys;\n  }): ((custom?: TCustom) => AnimationProps & MotionAdvancedProps) => {\n    const { initial, animate, exit } = targets;\n\n    const prefersReducedMotion = useReducedMotion();\n    const variantsResolved = useMemo(\n      () => (prefersReducedMotion ? { ...variants, ...reducedMotionVariants } : { ...variants }),\n      [prefersReducedMotion],\n    );\n\n    const createFramerProps = useCallback(\n      (custom = {} as any) => ({ custom, variants: variantsResolved, initial, animate, exit }),\n      [initial, animate, exit, variantsResolved],\n    );\n\n    return createFramerProps;\n  };\n\n  const withVariants = <VariantKeys extends string = string>(variants: FramerVariants<TCustom, VariantKeys>) => {\n    const withReducedMotion = (reducedMotionVariants: OptionalFramerVariants<TCustom, VariantKeys>) => {\n      return { use: createHook(variants, reducedMotionVariants) };\n    };\n\n    return { withReducedMotion, use: createHook(variants) };\n  };\n\n  return { withVariants };\n}\n\n// --- Out-of-the-box animations -------------------------------------------- //\n\nconst fadeTransition = /* @__PURE__ */ createFramerTransition().withVariants({\n  visible: { opacity: 1 },\n  hidden: { opacity: 0 },\n});\n\nfunction useFade() {\n  return fadeTransition.use({\n    initial: 'hidden',\n    animate: 'visible',\n    exit: 'hidden',\n  });\n}\n\nconst scaleTransition = /* @__PURE__ */ createFramerTransition<number>()\n  .withVariants({\n    hiddenWithScale: (scale) => ({ opacity: 0, scale, transition: { duration: 0.1 } }),\n    hiddenWithoutScale: { opacity: 0, scale: 1, transition: { duration: 0.1 } },\n    visible: { opacity: 1, scale: 1, transition: { duration: 0.1 } },\n  })\n  .withReducedMotion({\n    hiddenWithScale: { opacity: 0, scale: 1, transition: { duration: 0.1 } },\n    hiddenWithoutScale: { opacity: 0, scale: 1, transition: { duration: 0.1 } },\n  });\n\nfunction useScale() {\n  return scaleTransition.use({\n    initial: 'hiddenWithScale',\n    animate: 'visible',\n    exit: 'hiddenWithScale',\n  });\n}\n\nfunction useScaleIn() {\n  return scaleTransition.use({\n    initial: 'hiddenWithScale',\n    animate: 'visible',\n    exit: 'hiddenWithoutScale',\n  });\n}\n\nfunction useScaleOut() {\n  return scaleTransition.use({\n    initial: 'hiddenWithoutScale',\n    animate: 'visible',\n    exit: 'hiddenWithScale',\n  });\n}\n\nconst slideTransition = /* @__PURE__ */ createFramerTransition<{\n  x?: number;\n  y?: number;\n  scale?: number;\n}>()\n  .withVariants({\n    hidden: ({ x = 0, y = 0, scale = 1 }) => ({\n      x,\n      y,\n      scale,\n      opacity: 0,\n      transition: { ease: 'easeInOut', duration: 0.15 },\n    }),\n    visible: { x: 0, y: 0, opacity: 1, scale: 1, transition: { ease: 'easeInOut', duration: 0.15 } },\n  })\n  .withReducedMotion({\n    hidden: {\n      x: 0,\n      y: 0,\n      scale: 1,\n      opacity: 0,\n      transition: { ease: 'easeInOut', duration: 0.15 },\n    },\n  });\n\nfunction useSlide() {\n  return slideTransition.use({\n    initial: 'hidden',\n    animate: 'visible',\n    exit: 'hidden',\n  });\n}\n\nexport const transitions = {\n  useFade,\n  useSlide,\n  useScale,\n  useScaleIn,\n  useScaleOut,\n};\n"],"names":["useReducedMotion","useMemo","useCallback"],"mappings":"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"}