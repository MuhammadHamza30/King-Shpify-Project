{"version":3,"file":"grid.js","sources":["../../../../../src/components/layout/grid/grid.tsx"],"sourcesContent":["import React, { createContext, useContext } from 'react';\nimport { Breakpoint } from '../../../constants';\nimport { clsx } from '../../../libs/clsx';\nimport { createErrorWithCode } from '../../../libs/exceptions';\nimport { forwardRefWrapper } from '../../../libs/forward-ref-wrapper';\nimport { mergeProps } from '../../../libs/merge-props';\nimport { IntrinsicElementProps } from '../../../types/utility';\n\nimport styles from './grid.less';\n\n// --- Contexts ------------------------------------------------------------- //\n\ninterface GridContainerContext {\n  gutter?: number;\n}\n\nconst defaultGridContainerContext: GridContainerContext = { gutter: 30 };\nconst GridContainerContext = /* @__PURE__ */ createContext(defaultGridContainerContext);\n\ninterface GridRowContext {\n  isFirstRow?: boolean;\n}\n\nconst defaultGridRowContext: GridRowContext = { isFirstRow: false };\nconst GridRowContext = /* @__PURE__ */ createContext(defaultGridRowContext);\n\n// --- Grid components ------------------------------------------------------ //\n\ninterface GridContainerProps extends GridContainerContext, IntrinsicElementProps<'div'> {}\n\nconst GridContainer = /* @__PURE__ */ forwardRefWrapper<HTMLDivElement, GridContainerProps>(\n  'Grid',\n  (props, externalRef) => {\n    const { gutter, children, ...otherProps } = props;\n\n    // Only allow `<Grid.Row>` elements as children\n    const validChildren = React.Children.map(children, (child, i) => {\n      if (React.isValidElement(child) && child.type === GridRow) {\n        return <GridRowContext.Provider value={{ isFirstRow: i === 0 }}>{child}</GridRowContext.Provider>;\n      }\n\n      throw createErrorWithCode(\n        'GRID_INCOMPATIBLE_CHILDREN_DETECTED',\n        GridContainer,\n        'Only children wrapped with <Grid.Row> are allowed within a <Grid>.',\n      );\n    });\n\n    return (\n      <GridContainerContext.Provider value={{ gutter: gutter ?? defaultGridContainerContext.gutter }}>\n        <div {...mergeProps(otherProps, { className: styles.GridContainer })} ref={externalRef}>\n          {validChildren}\n        </div>\n      </GridContainerContext.Provider>\n    );\n  },\n);\n\ntype GridColumnSize = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 'content' | 'auto';\ntype GridColumnOffset = 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11;\ntype GridColumnOrder = 'first' | 'last';\ntype GridColumnConfiguration =\n  | GridColumnSize\n  | { size?: GridColumnSize; offset?: GridColumnOffset; order?: GridColumnOrder };\n\ninterface GridColumnProps extends IntrinsicElementProps<'div'> {\n  xs?: GridColumnConfiguration;\n  sm?: GridColumnConfiguration;\n  md?: GridColumnConfiguration;\n  lg?: GridColumnConfiguration;\n  xl?: GridColumnConfiguration;\n  xxl?: GridColumnConfiguration;\n}\n\nconst GridColumn = /* @__PURE__ */ forwardRefWrapper<HTMLDivElement, GridColumnProps>(\n  'Grid.Column',\n  (props, externalRef) => {\n    const { xs = 'auto', sm, md, lg, xl, xxl, ...otherProps } = props;\n    const ctx = useContext(GridContainerContext);\n\n    const configs = { xs, sm, md, lg, xl, xxl } as const;\n\n    const columnClasses = Object.keys(configs).reduce<string[]>((acc, breakpoint) => {\n      const bp = breakpoint as Breakpoint;\n      const cfg = configs[bp];\n      return acc.concat([\n        ...(!cfg ? [getSpanClass(bp, cfg)] : []),\n        ...(!cfg ? [getOffsetClass(bp, cfg)] : []),\n        ...(!cfg ? [getOrderClass(bp, cfg)] : []),\n      ]);\n    }, []);\n\n    const columnStyle: Partial<CSSStyleDeclaration> = {\n      paddingLeft: `${ctx.gutter! * 0.5}px`,\n      paddingRight: `${ctx.gutter! * 0.5}px`,\n      marginTop: `${ctx.gutter!}px`,\n    };\n\n    return (\n      <div\n        {...mergeProps(otherProps, {\n          className: clsx(styles.GridColumn, columnClasses),\n          style: columnStyle,\n        })}\n        ref={externalRef}\n      />\n    );\n  },\n);\n\ntype GridRowAlignment = 'top' | 'middle' | 'bottom';\ntype GridRowDistribution = 'space-around' | 'space-between';\ntype GridRowConfiguration = { alignment?: GridRowAlignment; distribution?: GridRowDistribution };\n\ninterface GridRowProps extends IntrinsicElementProps<'div'> {\n  xs?: GridRowConfiguration;\n  sm?: GridRowConfiguration;\n  md?: GridRowConfiguration;\n  lg?: GridRowConfiguration;\n  xl?: GridRowConfiguration;\n  xxl?: GridRowConfiguration;\n  reverse?: boolean;\n}\n\nconst GridRow = /* @__PURE__ */ forwardRefWrapper<HTMLDivElement, GridRowProps>('Grid.Row', (props, externalRef) => {\n  // Only allow `<Grid.Column>` elements as children\n  React.Children.forEach(props.children, (child) => {\n    if (React.isValidElement(child) && child.type === GridColumn) return;\n\n    throw createErrorWithCode(\n      'GRID_ROW_INCOMPATIBLE_CHILDREN_DETECTED',\n      GridRow,\n      'Only children wrapped with <Grid.Column> are allowed within a <Grid.Row>.',\n    );\n  });\n\n  const { xs, sm, md, lg, xl, xxl, reverse, ...otherProps } = props;\n  const ctx = useContext(GridContainerContext);\n  const { isFirstRow } = useContext(GridRowContext);\n\n  const configs = { xs, sm, md, lg, xl, xxl };\n\n  const rowClasses = Object.keys(configs).reduce<string[]>((acc, breakpoint) => {\n    const cfg = configs[breakpoint as Breakpoint];\n    return acc.concat([\n      ...(!cfg ? [getAlignmentClass(breakpoint as Breakpoint, cfg)] : []),\n      ...(!cfg ? [getDistributionClass(breakpoint as Breakpoint, cfg)] : []),\n    ]);\n  }, []);\n\n  const rowStyle: Partial<CSSStyleDeclaration> = {\n    marginLeft: `${ctx.gutter! * -0.5}px`,\n    marginRight: `${ctx.gutter! * -0.5}px`,\n    marginTop: isFirstRow ? `${ctx.gutter! * -1}px` : undefined,\n  };\n\n  return (\n    <div\n      {...mergeProps(otherProps, {\n        className: clsx(styles.GridRow, reverse && styles.reverse, rowClasses),\n        style: rowStyle,\n      })}\n      ref={externalRef}\n    />\n  );\n});\n\nexport const Grid = /* @__PURE__ */ Object.assign(GridContainer, {\n  Row: GridRow,\n  Column: GridColumn,\n});\n\n// --- Classname helpers ---------------------------------------------------- //\n\nfunction getSpanClass(breakpoint: Breakpoint, source?: GridColumnConfiguration) {\n  const modifier = typeof source === 'number' || typeof source === 'string' ? source : source?.size ?? 'content';\n  const classID = `${breakpoint}_span_${modifier}`;\n  return styles[classID] as string;\n}\n\nfunction getOffsetClass(breakpoint: Breakpoint, source?: GridColumnConfiguration) {\n  const modifier = typeof source === 'number' || typeof source === 'string' ? 0 : source?.offset ?? 0;\n  const classID = `${breakpoint}_offset_${modifier}`;\n  return styles[classID] as string;\n}\n\nfunction getOrderClass(breakpoint: Breakpoint, source?: GridColumnConfiguration) {\n  const modifier = typeof source === 'number' || typeof source === 'string' ? undefined : source?.order;\n  const classID = modifier ? `${breakpoint}_order_${modifier}` : '';\n  return styles[classID] as string;\n}\n\nfunction getAlignmentClass(breakpoint: Breakpoint, source?: GridRowConfiguration) {\n  const modifier = source?.alignment;\n  const classID = modifier ? `${breakpoint}_alignment_${modifier}` : '';\n  return styles[classID] as string;\n}\n\nfunction getDistributionClass(breakpoint: Breakpoint, source?: GridRowConfiguration) {\n  const modifier = source?.distribution;\n  const classID = modifier ? `${breakpoint}_distribution_${modifier}` : '';\n  return styles[classID] as string;\n}\n"],"names":["styles"],"mappings":"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"}