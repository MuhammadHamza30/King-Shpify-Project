import React, { useState } from 'react';
import ReactDOM from 'react-dom';
import { useID } from '../../hooks/use-id.js';
import { useIsomorphicLayoutEffect } from '../../hooks/use-isomorphic-layout-effect.js';

const EphemeralPortal = (props) => {
    const { children, className = '', style = {}, root } = props;
    const portalID = useID();
    const [portalElement, setPortalElement] = useState(null);
    // Setup/teardown the tooltip context
    useIsomorphicLayoutEffect(() => {
        const container = document.createElement('div');
        container.dataset.mgEphemeralPortal = portalID;
        container.className = className;
        for (const cssProperty of Object.keys(style)) {
            // @ts-ignore
            container.style[property] = style[property];
        }
        (root || document.body).appendChild(container);
        setPortalElement(container);
        return () => container.remove();
    }, [root, className, JSON.stringify(style)]);
    return portalElement ? React.createElement(React.Fragment, null, ReactDOM.createPortal(children, portalElement)) : null;
};

export { EphemeralPortal };
//# sourceMappingURL=ephemeral-portal.js.map
