{"version":3,"file":"call-to-action.js","sources":["../../../../../src/components/primitives/call-to-action/call-to-action.tsx"],"sourcesContent":["import { PressEvent } from '@react-types/shared';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport React, { RefAttributes, useMemo } from 'react';\nimport { useFocusRing, usePress } from 'react-aria';\nimport { transitions } from '../../../hooks/transitions';\nimport { clsx } from '../../../libs/clsx';\nimport { createGenericForwardRefsFactory } from '../../../libs/generic-forward-refs';\nimport { mergeProps } from '../../../libs/merge-props';\nimport { BaseColorName } from '../../../libs/theme';\nimport { Icon, IconColorProvider, MonochromeIconDefinition } from '../../icons';\nimport { Spacer } from '../../layout';\nimport { useTheme } from '../../theme-provider';\nimport { InverseThemeSemantics } from '../../theme-provider/inverse-theme-semantics';\n\nimport styles from './call-to-action.less';\n\ninterface CallToActionProps extends RefAttributes<HTMLAnchorElement | HTMLButtonElement> {\n  outline?: boolean;\n  disabled?: boolean;\n  onPress?: (event: PressEvent) => void;\n  size?: 'sm' | 'md' | 'lg';\n  color?: 'primary' | 'secondary' | 'tertiary' | 'success' | 'warning' | 'error';\n  leadingIcon?: MonochromeIconDefinition;\n  trailingIcon?: MonochromeIconDefinition;\n  className?: string;\n}\n\n/**\n * Determines a _default_ color for icons nested in a `<CallToAction>`.\n */\nfunction useIconColor(baseColor: CallToActionProps['color'], inverseSemantics?: boolean, outline?: boolean) {\n  const theme = useTheme({ inverseSemantics });\n\n  return useMemo(() => {\n    let iconBaseColor: BaseColorName | undefined;\n\n    switch (baseColor) {\n      case 'primary':\n        iconBaseColor = outline ? 'tertiary' : 'secondary';\n        break;\n\n      case 'secondary':\n        iconBaseColor = outline ? 'secondary' : 'tertiary';\n        break;\n\n      case 'tertiary':\n        iconBaseColor = outline ? 'tertiary' : 'secondary';\n        break;\n\n      case 'error':\n        iconBaseColor = outline ? 'error' : 'secondary';\n        break;\n\n      case 'warning':\n        iconBaseColor = outline ? 'warning' : 'secondary';\n        break;\n\n      case 'success':\n        iconBaseColor = outline ? 'success' : 'secondary';\n        break;\n\n      default:\n        iconBaseColor = undefined;\n    }\n\n    return iconBaseColor ? theme.hex[iconBaseColor].base : undefined;\n  }, [theme.key, baseColor, outline]);\n}\n\nconst createCallToActionComponents = /* @__PURE__ */ createGenericForwardRefsFactory(['button', 'a']);\nconst CallToActionComponents = /* @__PURE__ */ createCallToActionComponents<CallToActionProps>(\n  'CallToAction',\n\n  { color: 'primary', size: 'md' },\n\n  (props, externalRef) => {\n    const {\n      children,\n      onPress,\n      className,\n      disabled,\n      outline,\n      color,\n      size,\n      leadingIcon,\n      trailingIcon,\n      component,\n      ...otherProps\n    } = props;\n\n    const { isFocusVisible, focusProps } = useFocusRing();\n    const { pressProps, isPressed } = usePress({ onPress, isDisabled: disabled });\n    const getScaleProps = transitions.useScaleIn();\n\n    const inverseSemantics = (color === 'secondary' && outline) || (color === 'tertiary' && !outline);\n    const iconColor = useIconColor(color, inverseSemantics, outline);\n\n    const content = (\n      <>\n        <AnimatePresence>\n          {isFocusVisible && <motion.span aria-hidden=\"true\" className={styles.focusRing} {...getScaleProps(1.08)} />}\n        </AnimatePresence>\n\n        {leadingIcon && (\n          <>\n            <Icon size={size === 'sm' ? 20 : 24} type={leadingIcon} />\n            <Spacer size={8} />\n          </>\n        )}\n\n        <span className={styles.buttonLabel}>{children}</span>\n\n        {trailingIcon && (\n          <>\n            <Spacer size={8} />\n            <Icon size={size === 'sm' ? 20 : 24} type={trailingIcon} />\n          </>\n        )}\n      </>\n    );\n\n    return (\n      <IconColorProvider colorA={iconColor}>\n        <InverseThemeSemantics active={inverseSemantics}>\n          {React.createElement(\n            component,\n\n            {\n              className: clsx([\n                className,\n                styles.CallToAction,\n                styles[`size_${size}`],\n                styles[`color_${color}`],\n                disabled && styles.disabled,\n                outline && styles.outline,\n                isPressed && styles.active,\n              ]),\n              disabled,\n              'aria-disabled': disabled,\n              ...mergeProps(pressProps, focusProps, otherProps),\n              ref: externalRef,\n            },\n\n            content,\n          )}\n        </InverseThemeSemantics>\n      </IconColorProvider>\n    );\n  },\n);\n\nexport const CallToAction = /* @__PURE__ */ Object.assign(CallToActionComponents.button, CallToActionComponents);\n"],"names":["styles"],"mappings":"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"}