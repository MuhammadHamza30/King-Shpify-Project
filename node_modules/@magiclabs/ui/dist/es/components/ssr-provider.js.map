{"version":3,"file":"ssr-provider.js","sources":["../../../src/components/ssr-provider.tsx"],"sourcesContent":["import React, { PropsWithChildren, createContext, useContext, useLayoutEffect, useState } from 'react';\nimport { SSRProvider as ReactAriaSSRProvider } from 'react-aria';\n\nconst canUseDOM = /* @__PURE__ */ Boolean(\n  typeof window !== 'undefined' && window.document && window.document.createElement,\n);\n\ninterface SSRContext {\n  isServer: boolean;\n  isClient: boolean;\n}\n\nconst defaultSSRContext: SSRContext = { isServer: !canUseDOM, isClient: canUseDOM };\n\nconst SSRContext = /* @__PURE__ */ createContext<SSRContext>(defaultSSRContext);\n\nexport type SSRProviderProps = PropsWithChildren<{}>;\n\nexport const SSRProvider: React.FC = (props: SSRProviderProps) => {\n  const { children } = props;\n\n  // Copy the default context so that strict equality\n  // checks against the context value are falsey.\n  const ctx = { ...defaultSSRContext };\n\n  return (\n    <SSRContext.Provider value={ctx}>\n      <ReactAriaSSRProvider>{children}</ReactAriaSSRProvider>\n    </SSRContext.Provider>\n  );\n};\n\nexport function useSSR() {\n  const ctx = useContext(SSRContext);\n  const isInSSRContext = ctx !== defaultSSRContext;\n  const [isHydrating, setIsHydrating] = useState(canUseDOM && isInSSRContext);\n\n  if (canUseDOM) {\n    useLayoutEffect(() => setIsHydrating(false), []);\n  }\n\n  return { ...ctx, isHydrating };\n}\n"],"names":["ReactAriaSSRProvider"],"mappings":";;;AAGA,MAAM,SAAS,mBAAmB,OAAO,CACvC,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,QAAQ,CAAC,aAAa,CAClF,CAAC;AAOF,MAAM,iBAAiB,GAAe,EAAE,QAAQ,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC;AAEpF,MAAM,UAAU,mBAAmB,aAAa,CAAa,iBAAiB,CAAC,CAAC;AAInE,MAAA,WAAW,GAAa,CAAC,KAAuB,KAAI;AAC/D,IAAA,MAAM,EAAE,QAAQ,EAAE,GAAG,KAAK,CAAC;;;AAI3B,IAAA,MAAM,GAAG,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAQ,iBAAiB,CAAE,CAAC;IAErC,QACE,oBAAC,UAAU,CAAC,QAAQ,EAAC,EAAA,KAAK,EAAE,GAAG,EAAA;AAC7B,QAAA,KAAA,CAAA,aAAA,CAACA,aAAoB,EAAE,IAAA,EAAA,QAAQ,CAAwB,CACnC,EACtB;AACJ,EAAE;SAEc,MAAM,GAAA;AACpB,IAAA,MAAM,GAAG,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC;AACnC,IAAA,MAAM,cAAc,GAAG,GAAG,KAAK,iBAAiB,CAAC;AACjD,IAAA,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAG,QAAQ,CAAC,SAAS,IAAI,cAAc,CAAC,CAAC;AAE5E,IAAA,IAAI,SAAS,EAAE;QACb,eAAe,CAAC,MAAM,cAAc,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC;AAClD,KAAA;IAED,OAAY,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,GAAG,CAAE,EAAA,EAAA,WAAW,EAAG,CAAA,CAAA;AACjC;;;;"}