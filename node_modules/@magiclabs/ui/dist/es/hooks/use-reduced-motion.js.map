{"version":3,"file":"use-reduced-motion.js","sources":["../../../src/hooks/use-reduced-motion.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useSSR } from '../components/ssr-provider';\n\nconst QUERY = '(prefers-reduced-motion: no-preference)';\n\nfunction useInitialReducedMotionState() {\n  const { isServer } = useSSR();\n  return () => (isServer ? true : !window.matchMedia(QUERY).matches);\n}\n\n/**\n * Returns `boolean` indicating whether the user has set\n * their browser to prefer reduced motion animations.\n *\n * Based on this lovely tutorial by Josh Comeau:\n * https://www.joshwcomeau.com/react/prefers-reduced-motion/\n */\nexport function useReducedMotion() {\n  const [prefersReducedMotion, setPrefersReducedMotion] = useState(useInitialReducedMotionState());\n\n  useEffect(() => {\n    const mediaQueryList = window.matchMedia(QUERY);\n\n    const listener = (event: MediaQueryListEvent) => {\n      setPrefersReducedMotion(!event.matches);\n    };\n\n    mediaQueryList.addListener(listener);\n\n    return () => mediaQueryList.removeListener(listener);\n  }, []);\n\n  return prefersReducedMotion;\n}\n"],"names":[],"mappings":";;;AAGA,MAAM,KAAK,GAAG,yCAAyC,CAAC;AAExD,SAAS,4BAA4B,GAAA;AACnC,IAAA,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,EAAE,CAAC;IAC9B,OAAO,OAAO,QAAQ,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC;AACrE,CAAC;AAED;;;;;;AAMG;SACa,gBAAgB,GAAA;IAC9B,MAAM,CAAC,oBAAoB,EAAE,uBAAuB,CAAC,GAAG,QAAQ,CAAC,4BAA4B,EAAE,CAAC,CAAC;IAEjG,SAAS,CAAC,MAAK;QACb,MAAM,cAAc,GAAG,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AAEhD,QAAA,MAAM,QAAQ,GAAG,CAAC,KAA0B,KAAI;AAC9C,YAAA,uBAAuB,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AAC1C,SAAC,CAAC;AAEF,QAAA,cAAc,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAErC,OAAO,MAAM,cAAc,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;KACtD,EAAE,EAAE,CAAC,CAAC;AAEP,IAAA,OAAO,oBAAoB,CAAC;AAC9B;;;;"}