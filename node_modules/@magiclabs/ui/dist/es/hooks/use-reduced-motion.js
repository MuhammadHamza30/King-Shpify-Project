import { useState, useEffect } from 'react';
import { useSSR } from '../components/ssr-provider.js';

const QUERY = '(prefers-reduced-motion: no-preference)';
function useInitialReducedMotionState() {
    const { isServer } = useSSR();
    return () => (isServer ? true : !window.matchMedia(QUERY).matches);
}
/**
 * Returns `boolean` indicating whether the user has set
 * their browser to prefer reduced motion animations.
 *
 * Based on this lovely tutorial by Josh Comeau:
 * https://www.joshwcomeau.com/react/prefers-reduced-motion/
 */
function useReducedMotion() {
    const [prefersReducedMotion, setPrefersReducedMotion] = useState(useInitialReducedMotionState());
    useEffect(() => {
        const mediaQueryList = window.matchMedia(QUERY);
        const listener = (event) => {
            setPrefersReducedMotion(!event.matches);
        };
        mediaQueryList.addListener(listener);
        return () => mediaQueryList.removeListener(listener);
    }, []);
    return prefersReducedMotion;
}

export { useReducedMotion };
//# sourceMappingURL=use-reduced-motion.js.map
